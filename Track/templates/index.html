{% extends "base.html" %}

{% block content %}
<main class="animate-fade-in" style="animation-delay: 0.1s;">

    <div class="card">
        <h3 style="margin-bottom: 2rem; text-align: center;">Upload Data Files</h3>

        <form action="/run" method="post" enctype="multipart/form-data">

            <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));">

                <!-- File 1 -->
                <div class="upload-group">
                    <label class="upload-label">
                        <span class="step-icon">1</span> Depot Departures
                    </label>
                    <input type="file" name="file_depot" class="form-control" accept=".csv">
                    <div class="help-text">Expects: Depot_Departures.csv</div>
                </div>

                <!-- File 2 -->
                <div class="upload-group">
                    <label class="upload-label">
                        <span class="step-icon">2</span> Customer Timestamps
                    </label>
                    <input type="file" name="file_customer" class="form-control" accept=".csv">
                    <div class="help-text">Expects: Customer_Timestamps.csv</div>
                </div>

                <!-- File 3 -->
                <div class="upload-group">
                    <label class="upload-label">
                        <span class="step-icon">3</span> Distance Information
                    </label>
                    <input type="file" name="file_distance" class="form-control" accept=".csv">
                    <div class="help-text">Expects: Distance_Information.csv</div>
                </div>

                <!-- File 4 -->
                <div class="upload-group">
                    <label class="upload-label">
                        <span class="step-icon">4</span> Timestamps & Duration
                    </label>
                    <input type="file" name="file_timestamps" class="form-control" accept=".csv">
                    <div class="help-text">Expects: Timestamps_and_Duration.csv</div>
                </div>

                <!-- File 5 -->
                <div class="upload-group">
                    <label class="upload-label">
                        <span class="step-icon">5</span> Time in Route
                    </label>
                    <input type="file" name="file_route" class="form-control" accept=".csv">
                    <div class="help-text">Expects: Time_in_Route_Information.csv</div>
                </div>

            </div>

            <div style="margin-top: 2rem; text-align: center;">
                <button type="submit" class="btn btn-primary" style="padding: 1rem 3rem; font-size: 1.1rem;">
                    Process Files
                </button>
            </div>

        </form>
    </div>

    <!-- Info Section -->
    <div class="card animate-fade-in" style="margin-top: 2rem; animation-delay: 0.2s;">
        <h3>How it works</h3>
        <p style="color: var(--text-muted);">
            Upload any new CSV files you have. If you leave a field empty, the system will try to use the existing file
            from the server (if available).
            The system intelligently fills missing data by learning from historical patterns to ensure <strong>100% data
                completion</strong>.
        </p>
    </div>

</main>
{% endblock %}